<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>index</title>
</head>
<body>
<main>
<p>index</p>
<p></p><a href="./via.html">via</a></p>
<p></p><a href="./pagehide.html">pagehide</a></p>
<p></p><a href="./pageshow.html">pageshow</a></p>
<p></p><a href="./dummy.html">dummy</a></p>
</main>
<script>
(function (window, document) {
    document.addEventListener('readystatechange', function (e) {
        console.log('index readystatechange');
        if (execEpForward && document.readyState == 'interactive') {
            window.history.forward();
            return false;
        }
    });

    window.addEventListener('pageshow', function (e) {
        console.log('index pageshow');
        if (execEpForward && e.persisted) {
            window.location.reload();
            return false;
        }
    }, false);

    var execEpForward = function () {
        return document.cookie.indexOf('_ws_1_ep_forward=true') !== -1;
    };
})(window, document);
</script>
</body>
</html>